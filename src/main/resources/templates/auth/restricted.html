<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layout}"
>
  <title>Authenticate</title>

  <div th:replace="~{fragments/head.html :: head}"></div>

  <body class="layout auth">
    <div class="container1">
      <form 
        th:action="@{/restricted/authenticate}"
        class="form-login"
        method="POST"
        id="login-anchor"
      >
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
        <fieldset>
          <legend>Authenticate</legend>
          <label
            for="user-name"
            data-invalid="Invalid User Name"
            data-empty="Enter your User Name"
            data-valid="Valid User Name"
          >
            <div class="help" id="user-name-help">
              You must enter your username generated by the system
            </div>
            Enter Your User name :
            <!--Crockford Base32-->
            <input
              type="text"
              id="user-name"
              aria-describedby="user-name-help"
              placeholder="Doe"
              pattern="^[STA]-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]$"
              size="13"
              name="username"
              required
            />
          </label>
          <label
            for="password"
            data-invalid="Invalid Password"
            data-empty="Input a Password"
            data-valid="Password is Valid"
          >
            <div class="help" id="password-help">
              At least 1 uppercase, lowercase character, number and a special
              character is required
            </div>
            Enter Your Password :
            <input
              type="password"
              id="password"
              aria-describedby="password-help"
              placeholder="password"
              pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).+$"
              name="password"
              required
            />
          </label>
          <div class="remember-me">
            <input type="checkbox" aria-checked="false" id="remember-me" name="remember-me"/><span
              >Remember me</span
            >
            <input type="checkbox" aria-checked="false" id="show-password"/><span
              >Show Password</span
            >
          </div>
        </fieldset>
        <button type="submit">Authenticate</button>
        <div class="opts">
          <a href="#sign-in-anchor">Register</a>
          <a href="#">Forgot Password?</a>
        </div>
      </form>

      <form th:action="@{/}" class="form-signIn" method="POST" id="sign-in-anchor">
        <fieldset>
          <legend>Register</legend>
          <label
            for="first-name"
            data-invalid="Invalid First Name"
            data-empty="Enter your First Name"
            data-valid="Valid First Name"
          >
            <div class="help" id="first-name-help-request">
              You must enter your valid real first name
            </div>
            Enter Your First name :
            <input
              type="text"
              id="first-name"
              aria-describedby="first-name-help-request"
              placeholder="John"
              pattern="^[A-Z]{1}[a-z]{1,14}$"
              maxlength="15"
              name="firstname"
            />
          </label>
          <label
            for="last-name"
            data-invalid="Invalid Last Name"
            data-empty="Enter your Last Name"
            data-valid="Valid Last Name"
          >
            <div class="help" id="last-name-help-request">
              You must enter your valid real last name
            </div>
            Enter Your Last name :
            <input
              type="text"
              id="last-name"
              aria-describedby="last-name-help-request"
              placeholder="Doe"
              pattern="^[A-Z]{1}[a-z]{1,19}$"
              maxlength="20"
              name="lastname"
            />
          </label>
          <label
            for="password"
            data-invalid="Invalid Password"
            data-empty="Input a Password"
            data-valid="Password is Valid"
          >
            <div class="help" id="password-help-request">
              At least 1 uppercase, lowercase character, number and a special
              character is required
            </div>
            Enter Your Password :
            <input
              type="password"
              id="password-request"
              aria-describedby="password-help-request"
              placeholder="password"
              pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).+$"
              name="password"
            />
          </label>
        </fieldset>
        <button type="submit">Sign In</button>
        <div class="opts">
          <a href="#login-anchor">Already registered? Authenticate!</a>
        </div>
      </form>
    </div>
    <div class="container2">
      <div class="wrapper">
        <div class="logo auth" title="Website Logo">
          <div class="icon"></div>
          <a th:href="@{/}"><span>Code</span> World</a>
        </div>
        <div class="welcome">
          <h1>Welcome back!</h1>
          <p>
            We are glad to see you again! <br />
            Please authenticate to access and manage your data!
          </p>
        </div>
      </div>
    </div>
  </body>
</html>
